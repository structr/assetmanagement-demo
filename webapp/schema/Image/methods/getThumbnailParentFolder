final StringBuilder pathBuffer = new StringBuilder(org.structr.web.entity.Image.STRUCTR_THUMBNAIL_FOLDER); if (arg0 != null) { pathBuffer.append(arg0.getPath()); } final org.structr.web.entity.Folder folder =  org.structr.web.common.FileHelper.createFolderPath(SecurityContext.getSuperUserInstance(), pathBuffer.toString()); if (!folder.isVisibleToAuthenticatedUsers() || !folder.isVisibleToPublicUsers()) { folder.setProperty(AbstractNode.visibleToAuthenticatedUsers, true); folder.setProperty(AbstractNode.visibleToPublicUsers, true);  } return folder;